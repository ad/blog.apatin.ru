<!doctype html><html lang=ru class=no-js lang><head><meta charset=utf-8><title>Airtag — опыт использования альтернативной прошивки — Weblog</title><meta name=og:title content="Airtag — опыт использования альтернативной прошивки — Weblog"><meta name=description content="Airtag — опыт использования альтернативной прошивки"><meta name=og:description content="Airtag — опыт использования альтернативной прошивки"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><meta property="og:image" content="/static/apple-touch-icon.png"><link rel="shortcut icon" href=https://blog.apatin.ru/static/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=https://blog.apatin.ru/static/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://blog.apatin.ru/static/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://blog.apatin.ru/static/favicon-16x16.png><link rel=icon href=https://blog.apatin.ru/static/favicon.svg type=image/svg+xml><link rel=stylesheet href=https://blog.apatin.ru/css/main.min.d7c3c7e9e654172b8af1a12daeb567f298704e6e807ef11db8212f23c4a6be36.css integrity="sha256-18PH6eZUFyuK8aEtrrVn8phwTm6AfvEduCEvI8SmvjY=" media=screen><meta name=yandex-verification content="975872b19b152cad"><meta name=yandex-verification content="449579cc5ed55017"></head><body><div class=common><div class=flag><div class=header-content><div class=header-description><div class=title><div class=title-inner><div class=logo-marginal><div class=e2-user-picture-container><img alt=Logo title=Logo src=https://blog.apatin.ru/static/favicon.png></div></div><h1><a href=https://blog.apatin.ru/><span id=e2-blog-title style=font-size:48px>Weblog</span></a></h1></div><div id=e2-blog-description><p>Личный блог с мыслями и наблюдениями</p></div></div></div><div class=spotlight><form id=e2-search class="search-field search-field-right-anchored e2-enterable" action=https://blog.apatin.ru/search accept-charset=utf-8 name=searchForm role=form onsubmit=return!1><label class=search-field__label><input class=search-field__input type=text autocomplete=off placeholder="Search site" id=search aria-label="Search site" name=q><div class=search-field__zoom-icon><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 16 16"><path stroke="none" fill-rule="evenodd" clip-rule="evenodd" d="M16 14.5l-4.399-4.399a6.212 6.212.0 001.148-3.602 6.25 6.25.0 10-12.5.0 6.25 6.25.0 006.251 6.25 6.212 6.212.0 003.602-1.148L14.5 16l1.5-1.5zM1.25 6.501a5.251 5.251.0 1110.502.0 5.251 5.251.0 01-10.502.0z"/></svg></div><a class="nu search-field__tags-icon" href=https://blog.apatin.ru/tags/ title=Теги><span class=e2-svgi><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><path stroke="none" d="M6.938 16.001c-.43.0-.891-.16-1.32-.59L.607 10.38C-.406 9.367.037 8.191.581 7.647l6.538-6.501C7.145 1.116 8.176.0 9.427.0h4.044c1.153.0 2.5.659 2.5 2.516v3.991c0 1.167-1.029 2.229-1.146 2.347L8.32 15.415c-.308.309-.818.586-1.382.586zM9.427 1c-.801.0-1.578.828-1.586.837L1.287 8.354c-.146.152-.587.706.027 1.319l5.011 5.031c.589.59 1.137.15 1.29.003l6.501-6.559c.238-.241.855-1.002.855-1.642v-3.99c0-1.318-.94-1.516-1.5-1.516H9.427zm1.571 5.754c-.468.0-.907-.183-1.238-.515a1.765 1.765.0 010-2.487c.661-.664 1.814-.664 2.475.0.331.332.513.774.513 1.243s-.182.911-.513 1.243a1.73 1.73.0 01-1.237.516z"/></svg></span></a></label></form></div></div></div><section class=search-results style=display:none><div class=content></div></section><div class=content id=content><div id=e2-note-6 class=e2-note><article><h1 class="e2-published e2-smart-title"><a href=https://blog.apatin.ru/p/airtag-alternative-usage-experience/>Airtag — опыт использования альтернативной прошивки</a></h1><div class="e2-note-text e2-text e2-published"><p>Спустя две недели использования альтернативной прошивки для nRF5x, работающей в сети Apple, хочу поделиться опытом.</p><p>Я остановился на версии
<a href=https://github.com/acalatrava/openhaystack-firmware target=_blank rel="external nofollow noreferrer">acalatrava/openhaystack-firmware</a>, которая имеет меньшее энергопотребление. Сама прошивка залита в метку, которая находится в герметичном корпусе и висит на ошейнике собаки.</p><figure><noscript><style>img.lazy{display:none}</style><img src=https://blog.apatin.ru/images/airtag-map.png width=600px alt="Изображение позиции точек на карте"></noscript><picture><source type=image/webp data-sizes=50vw data-srcset="https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_1650x0_resize_q75_h2_box_2.webp 1650w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_060b8a20f8b8f2a527623ea775206a55.webp 320w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_d1f1af53b1466d0a797d4a3e67f59098.webp 640w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_956afe01a19ee870e68c6b82ffbaad63.webp 480w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_91ad7ae0a970fbb018d842ce17dc00ce.webp 800w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_4e18bd9724e2239b2c617157f7567567.webp 1600w"><img class=lazy loading=lazy decoding=async data-sizes=50vw style=max-width:100% src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAMAAABjCgsuAAAB8lBMVEX59e2t4PSr3/Op3vH///+q3vL/Oy+u4fX639f8/N2o3PCn3fD69Ov28urTiXn68uny7eWm2+759Oz9/Pv38+v07+f68Obv6uK9ydrn4tv67eXl39f75d7p5d77+vj8+9z3ypit4fVNTU3WzsPBzt/t59757d/66eL49/Xi3dT+/v7VzMH008r53NPy0MaDgoLYz8Xh2tHf187u7Of32dHZ1tD43tbd1Mvw7uv29PL18/Dc2tXz8u2oqaz649zr6OH11s7IxcD79tW3tbLCytvCv77b0sjb6u+x3vDovLL3z5319O364dru8u/vysDn7+/irKH406Xtw7n8+fPltKrr6ubMysZCnL/30q/T6PD2y6D65LzL5vC/vLb78c7fpJjV0szQzcj3ypuVlJGbmpe54vHi7e/c09qKiIb317n2zqjo2NimpKD52a377Mj56trC5O/537VZWFb44Mm0sKre397P0dujnpllZGK6ubrbnZCuqqT+/vb55tSQjov33ML66cLYl4nx3Nj5485ycG3Wjn640+V8e3fMs7Gt2ezDwc6usLHXkoMvLy3exb9rqcX/QjY/PjyQgHpWosL9/erOoqCgwtOBscf/ZFigjYeQuc3/q6T/8vH/iX7/WEuxydZ8n60ODQ397t+KYVm1eGvZU0h7s56ZAAACGklEQVR4nFyUO47zMAyEeQASAojJFrlGGuGH+hSCoCpFgLTZ2vevfvAhP9aODcT+hhzSokgVUAAFRYr8yE/8pNiBYi8UysqqqqREjhdd+OmUImwKgP1iVmIiqIeROA+8+APP7DSYwURK9t80ctXseCjAacszqOFYeDmdbCK7cThjYrIHXjHKhXUlODQmUy+CSMtf/GfHETlYOCv3onf/OMVHGOKl8qoJBKKszBUneO+PnOK7AKsX61odsDJL1MvuivLEqXtBHVJGFmCiFCRriEL9E6VkOYkb0O23W7Ivg7WqwkY6YYjzBOrUO52C2YqKtRa87MEtfu/o6J1W+niVcDkyyLJjkm4Z4mVJrrirfJIZqCfcWmtnS7AlbytRz1ndiTjcRhu0Z89R0ZyoLN9bk/QYbQw6t1+hXbuu9rLjvTdxvI0xx6RMEM1RT0BRR/qRsFLHHI85J2XPFXufKIcWEHjwGvi045eOr5QdWpfxknzCdtBlKZQo18c8aA8/H4k/n0/Kat1QoIGHn1ur7nwG/Xw/KTp4LNflSKRJbXXnHX+/3xQfGGuPyD0KEuFrveKfDyF2mTWgKROI4+M1X+HG6Y8JOEcU+1jHUcXiP+YF3zZapa75B1zieH1kb5Lftm2jy055D9quKOD1+7rgXxMo1A3JvRW5G15LlXqrD/Pvfhb+/X59u3dDht7EZPd/93ar3qHXX/77PwAA//9aR7gOHTyo3QAAAABJRU5ErkJggg==" data-srcset="https://blog.apatin.ru/images/airtag-map.png 1650w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_280x0_resize_box_2.png 320w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_560x0_resize_box_2.png 640w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_440x0_resize_q75_h2_box_2.webp 480w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_800x0_resize_box_2.png 800w, https://blog.apatin.ru/images/airtag-map_hu5c3151748ffdeb60fd5fa6821a477133_64807_1600x0_resize_box_2.png 1600w" width=600px alt="Изображение позиции точек на карте"></picture></figure><p>У работы метки есть особенности, такие как:</p><ol><li>Дальность работы, указана до 100 метров, по ощущениям это реально так. Хорошие показатели, но плюс может оказаться и минусом, т.к. сигнал порой ловится устройствами в проезжающих автомобилях и эти устройства отправляют информацию в Apple не сразу, таким образом, информация о местоположении порой может сильно отличаться от реального места трекера. И устройства отправляют именно своё местоположения, т.к. не знают где на самом деле находится трекер.</li><li>Периодичность, с которой Apple принимает данные. Сам трекер в текущей прошивке отправляет данные каждые 5 секунд, но серверы Apple обрабатывают запросы не чаще чем раз в 5 минут. И эта особенность вкупе с предыдущим пунктом может вносить некоторый шум в данные (бывает что геопозиция записывается метрах в 500 от реальной точки).</li><li>Данные о местоположении трекера доступны только в приложении
<a href=https://github.com/seemoo-lab/openhaystack/releases target=_blank rel="external nofollow noreferrer">openhaystack</a> и пока оно есть только под mac os (а также требует вмешательства в работу Apple Mail).</li><li>Мне не удалось заставить работать одновременно больше одной метки.</li><li>Количество устройств, способных передавать ваши данные о метке реально огромное, метка находящаяся в автомобиле на парковке стабильно раз в 5 минут передаёт информацию о своём положении.</li></ol><p><a href=https://github.com/positive-security/send-my target=_blank rel="external nofollow noreferrer">Любопытный проект</a>, как через сеть AirTag передавать сообщения</p></div></article><div class=e2-note-tags><span class=e2-timestamp>27.05.2021</span> &nbsp;
<a href=https://blog.apatin.ru/t/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5 class=e2-tag>техническое</a> &nbsp;
<a href=https://blog.apatin.ru/t/%D0%BD%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F class=e2-tag>наблюдения</a> &nbsp;
<a href=https://blog.apatin.ru/t/apple class=e2-tag>apple</a> &nbsp;
<a href=https://blog.apatin.ru/t/os-x class=e2-tag>OS X</a> &nbsp;
<a href=https://blog.apatin.ru/t/airtag class=e2-tag>airtag</a> &nbsp;</div></div><div class=e2-pages><a href=https://blog.apatin.ru/p/airtag-emulation-with-nrf51822/ id=link-earlier>Ранее</a>
<span class=e2-keyboard-shortcut>↓</span><span class=e2-keyboard-shortcut>⌥</span><span class=e2-keyboard-shortcut>↑</span>
<a href=https://blog.apatin.ru/p/hugo-generate-content-from-external-source/ id=link-later>Позднее</a></div><h4 class=page-header>Рекомендуемые посты:</h4><div id=e2-note-6><a href=https://blog.apatin.ru/p/hugo-generate-content-from-external-source/><h5 class="e2-published e2-smart-title" style=font-size:18px>Создание контента в Hugo из внешнего источника (json)</h5></a><div class=e2-note-tags><span class=e2-timestamp>24.02.2022</span></div></div><br><div id=e2-note-6><a href=https://blog.apatin.ru/p/airtag-emulation-with-nrf51822/><h5 class="e2-published e2-smart-title" style=font-size:18px>Эмуляция Apple Airtag при помощи nRF51822 iBeacon</h5></a><div class=e2-note-tags><span class=e2-timestamp>03.05.2021</span></div></div><br><div id=gh-comments><br><br><div id=gh-comments-list><div class=gh-comment><img src="https://avatars.githubusercontent.com/u/697625?v=4" width=24px>
<b><a href=https://github.com/H1D>H1D</a></b>
posted at
<em>20.08.2021, 08:58:28 UTC</em><div class=gh-comment-hr></div>Привет! Продолжаешь пользоваеться?<br>Удалось ли привязать больше одной метки? Это особенность именно альтернативной прошивки?<br>В доках оригинальной прошивки написано что нужно генерировать пару ключей для каждой метки, может в альтернативной это не учтено просто...</div><div class=gh-comment><img src="https://avatars.githubusercontent.com/u/35623?v=4" width=24px>
<b><a href=https://github.com/ad>ad</a></b>
posted at
<em>20.08.2021, 09:41:03 UTC</em><div class=gh-comment-hr></div>Села батарейка, перестал пользоваться :(<br>Еще и проблема с версией плагина для Mail.<br>Судя по всему, никому эта тема не нужна, т.к. разработка позаморозилась в обоих репозиториях.<br>В итоге взял обычный AirTag, он работает прекрасно.</div><div class=gh-comment><img src="https://avatars.githubusercontent.com/u/697625?v=4" width=24px>
<b><a href=https://github.com/H1D>H1D</a></b>
posted at
<em>20.08.2021, 15:28:21 UTC</em><div class=gh-comment-hr></div>грустно. Хочется все airtag'ами обсыпать, а ценник кусается</div></div></div><script type=text/javascript>let commentID=3,commentsFired=!1,since='2021-08-20T15:28:22Z';commentsFired===!1&&(commentsFired=!0,setTimeout(()=>{var a=document.createElement('script');a.type='text/javascript',a.src='https://blog.apatin.ru/js/comments.min.js',document.getElementsByTagName('body')[0].appendChild(a)},500))</script></div><div class=footer>&copy;
<span id=e2-blog-author>Daniel Apatin</span>,
2008—2024
<a href=https://blog.apatin.ru/rss.xml type=application/rss+xml target=_blank class=e2-rss-button>RSS</a>
<a class=e2-rss-button href=https://blog.apatin.ru/tags/>Теги</a></div></div><noscript><div><img src=https://mc.yandex.ru/watch/21943429 style=position:absolute;left:-9999px alt></div></noscript><script type=text/javascript src=https://blog.apatin.ru/js/common.min.js></script><script type=text/javascript>let searchFired=!1;var searchEl=document.getElementsByClassName("search-field__zoom-icon")[0];searchEl.addEventListener('click',function(){searchFired===!1&&(searchFired=!0,setTimeout(()=>{var a=document.createElement('script');a.type='text/javascript',a.src='https://blog.apatin.ru/js/search.min.js',document.getElementsByTagName('body')[0].appendChild(a)},500))},{passive:!0})</script></body><ok></html>