<!doctype html><html class=no-js itemscope itemtype=http://schema.org/Product><head><meta charset=utf-8><title>Weblog - Личный блог с мыслями и наблюдениями</title><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=og:title content="Weblog - Личный блог с мыслями и наблюдениями"><meta property="og:image" content="/static/favicon.png"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="shortcut icon" href=../../static/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=../../static/favicon.ico><link rel=stylesheet href=../../css/main.min.157c034e55c30a3033be80b8464d3375bb6cb8a04d8ee6c6e102071ec1624345.css integrity="sha256-FXwDTlXDCjAzvoC4Rk0zdbtsuKBNjubG4QIHHsFiQ0U=" media=screen><script type=text/javascript>(function(d,w,c){(w[c]=w[c]||[]).push(function(){try{w.yaCounter21943429=new Ya.Metrika({id:21943429,webvisor:true,clickmap:true,accurateTrackBounce:true});}catch(e){}});var n=d.getElementsByTagName("script")[0],s=d.createElement("script"),f=function(){n.parentNode.insertBefore(s,n);};s.type="text/javascript";s.async=true;s.src=(d.location.protocol=="https:"?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js";if(w.opera=="[object Opera]"){d.addEventListener("DOMContentLoaded",f,false);}else{f();}})(document,window,"yandex_metrika_callbacks");</script><link href=../../rss.xml rel=alternate type=application/rss+xml title=Weblog><link href=../../rss.xml rel=feed type=application/rss+xml title=Weblog></head><body><div class=common><div class=flag><div class=header-content><div class=header-description><div class=title><div class=title-inner><div class=logo-marginal><div class=e2-user-picture-container><img alt=Logo title=Logo src=../../static/favicon.png></div></div><h1><a href=../../><span id=e2-blog-title style=font-size:48px>Weblog</span></a></h1></div><div id=e2-blog-description><p>Личный блог с мыслями и наблюдениями</p></div></div></div></div></div><div class=content><div id=e2-note-6 class=e2-note><article><a href=../../p/monit/><h1 class="e2-published e2-smart-title" style=font-size:24px>Настройка Monit для поддержания жизни nginx/postgresql</h1></a><div class=e2-note-tags><span class=e2-timestamp>29.12.2015</span> &nbsp;
<a href=../../t/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5 class=e2-tag>техническое</a> &nbsp;
<a href=../../t/postgres class=e2-tag>postgres</a> &nbsp;
<a href=../../t/nginx class=e2-tag>nginx</a> &nbsp;
<a href=../../t/monit class=e2-tag>monit</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><h2 id=установка>Установка</h2><pre><code>apt-get install monit
</code></pre><p class=foot><a href=../../p/monit/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/letsencrypt_nginx/><h1 class="e2-published e2-smart-title" style=font-size:24px>Let’s Encrypt SSL Certificates и Nginx</h1></a><div class=e2-note-tags><span class=e2-timestamp>17.11.2015</span> &nbsp;
<a href=../../t/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5 class=e2-tag>техническое</a> &nbsp;
<a href=../../t/letsencrypt class=e2-tag>letsencrypt</a> &nbsp;
<a href=../../t/nginx class=e2-tag>nginx</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><h2 id=первым-делом-скачиваем-актуальную-версию>Первым делом скачиваем актуальную версию</h2><pre><code>sudo apt-get update

sudo apt-get install git

git clone https://github.com/letsencrypt/letsencrypt
</code></pre><p class=foot><a href=../../p/letsencrypt_nginx/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/postgresql_reload/><h1 class="e2-published e2-smart-title" style=font-size:24px>Postgresql reload</h1></a><div class=e2-note-tags><span class=e2-timestamp>25.09.2015</span> &nbsp;
<a href=../../t/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5 class=e2-tag>техническое</a> &nbsp;
<a href=../../t/postgres class=e2-tag>postgres</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Часто бывает, что после того как внесешь изменения в pg_hba.conf нужно сделать рестарт, чтобы изменения вступили в силу. Оказывается, можно не делать, а выполнить:</p><pre><code># pg_ctl reload
</code></pre><p>или</p><pre><code>SELECT pg_reload_conf();
</code></pre></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/postgres_logging_trigger/><h1 class="e2-published e2-smart-title" style=font-size:24px>Логирование изменений в Postgresql</h1></a><div class=e2-note-tags><span class=e2-timestamp>26.05.2015</span> &nbsp;
<a href=../../t/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5 class=e2-tag>техническое</a> &nbsp;
<a href=../../t/%D0%BA%D0%BE%D0%B4 class=e2-tag>код</a> &nbsp;
<a href=../../t/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D0%BE%D0%B5 class=e2-tag>полезное</a> &nbsp;
<a href=../../t/postgres class=e2-tag>postgres</a> &nbsp;
<a href=../../t/logging class=e2-tag>logging</a> &nbsp;
<a href=../../t/trigger class=e2-tag>trigger</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Иногда нужно добавить логирование изменений в некоторых таблицах, для этого приходится городить сложную систему, которая будет отслеживать изменения и записывать в нужное место что поменялось, и есть большой риск забыть добавить логирование в каком-то месте, эту проблему можно изящно решить сделав триггер на изменение таблицы.</p><p class=foot><a href=../../p/postgres_logging_trigger/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/postgres_update_trigger/><h1 class="e2-published e2-smart-title" style=font-size:24px>Автоматическое обновление поля в PostgreSQL</h1></a><div class=e2-note-tags><span class=e2-timestamp>25.05.2015</span> &nbsp;
<a href=../../t/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5 class=e2-tag>техническое</a> &nbsp;
<a href=../../t/%D0%BA%D0%BE%D0%B4 class=e2-tag>код</a> &nbsp;
<a href=../../t/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D0%BE%D0%B5 class=e2-tag>полезное</a> &nbsp;
<a href=../../t/postgres class=e2-tag>postgres</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>В Postgres можно сделать, чтобы при создании записи какому-то параметру автоматически присваивалось значение:</p><pre><code>ALTER TABLE table_name ADD COLUMN &quot;updated&quot; timestamp NULL DEFAULT now();
</code></pre><p class=foot><a href=../../p/postgres_update_trigger/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/osx_autorotate_and_resize/><h1 class="e2-published e2-smart-title" style=font-size:24px>OS X: поворот и ресайз фотографий</h1></a><div class=e2-note-tags><span class=e2-timestamp>26.06.2014</span> &nbsp;
<a href=../../t/photos class=e2-tag>photos</a> &nbsp;
<a href=../../t/resize class=e2-tag>resize</a> &nbsp;
<a href=../../t/os-x class=e2-tag>OS X</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Хотелось бы рассказать про две программки, которые сильно упрощают жизнь, когда имеется много фотографий, которые нужно повернуть и изменить размер: jhead и sips</p><p>sips — стандартная утилита OS X, scriptable image processing system. Кроме прочего, умеет изменять размер картинки по максимальной стороне.</p><p><a href=http://www.sentex.net/~mwandel/jhead/ target=_blank rel=nofollow>jhead</a> — Exif Jpeg header manipulation tool. Удобна для поворота картинки по данным EXIF. Для её работы нужен libjpeg (brew install libjpeg).</p><pre><code>$ mkdir 1024 # создаем папку для готовых картинок
</code></pre><pre><code>$ jhead -autorot source_images/* # поворачиваем картинки
</code></pre><pre><code>$ sips -Z 1024 source_images/* --out 1024/ # изменяем размер
</code></pre></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/icloud_lost_notes/><h1 class="e2-published e2-smart-title" style=font-size:24px>Восстановление "пропавших" заметок iCloud</h1></a><div class=e2-note-tags><span class=e2-timestamp>18.05.2014</span> &nbsp;
<a href=../../t/apple class=e2-tag>apple</a> &nbsp;
<a href=../../t/icloud class=e2-tag>icloud</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Может быть я один такой, но похожие жалобы слышал от знакомых.</p><p>Суть в том, что когда пользуешься 2 и более устройствами на iOS и делаешь заметки на обоих, то в какой-то момент замечаешь, что заметка (приложение Notes или Заметки) пропала&mldr; Или, она есть на одном устройстве, но её нет на другом. В то же время эта заметка может быть на одном из устройств и отсутствовать на
<a href=https://icloud.com target=_blank rel=nofollow>icloud.com</a> или наоборот. Ясно что имеется какая-то проблема с синхронизацией.</p><p class=foot><a href=../../p/icloud_lost_notes/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/how_to_sleep/><h1 class="e2-published e2-smart-title" style=font-size:24px>Как спать так, чтобы высыпаться</h1></a><div class=e2-note-tags><span class=e2-timestamp>18.05.2014</span> &nbsp;
<a href=../../t/sleep class=e2-tag>sleep</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Как спать так, чтобы высыпаться — я давно начал задумываться, как так получается, что ложась спать в одно время — в какое-то время встать очень просто, а например на полчаса раньше очень тяжело, оказывается это легко объяснимо!</p><p class=foot><a href=../../p/how_to_sleep/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/dontdoit/><h1 class="e2-published e2-smart-title" style=font-size:24px>Как не надо делать</h1></a><div class=e2-note-tags><span class=e2-timestamp>15.03.2014</span> &nbsp;
<a href=../../t/work class=e2-tag>work</a> &nbsp;
<a href=../../t/people class=e2-tag>people</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Многие гики обожают закапываться в какую-то проблему с головой, перерывая горы информации в поисках решения — доставляет удовольствие сам процесс добывания.</p><p>Очень частая история из моей практики выглядит так: обрисовывается задача вида &ldquo;нужно сделать это и это используя это и вот это&rdquo;, тот кто будет делать задачу не задает уточняющих вопросов и уходит &ldquo;делать задачу&rdquo;, считая что ему всё понятно.</p><p>При постановке задачи есть понимание пути, который нужно пройти для достижения результата, примерной скорости и соответственно время выполнения задачи примерно понятно.</p><p class=foot><a href=../../p/dontdoit/>Читать далее &rarr;</a></p></div></article></div><br><div id=e2-note-6 class=e2-note><article><a href=../../p/about_airplanes/><h1 class="e2-published e2-smart-title" style=font-size:24px>Про самолёты</h1></a><div class=e2-note-tags><span class=e2-timestamp>02.01.2014</span> &nbsp;
<a href=../../t/%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D0%BE%D0%B5 class=e2-tag>полезное</a> &nbsp;
<a href=../../t/%D1%81%D0%B0%D0%BC%D0%BE%D0%BB%D1%91%D1%82%D1%8B class=e2-tag>самолёты</a> &nbsp;
<a href=../../t/%D0%BD%D0%B0%D0%B1%D0%BB%D1%8E%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F class=e2-tag>наблюдения</a> &nbsp;</div><br><div class="e2-note-text e2-text e2-published"><p>Обожаю самолёты.</p><p>Очень нравится их вид и та скорость (Санкт-Петербург — Таллин всего за 35 минут), с которой они доставляют грузы (в том числе и людей). Люблю их комфорт и удобство!</p><p>Многие знают, что от выбора места в самолете зависит то, как пройдет путешествие. Постараюсь поделиться своими наблюдениями. </p><p class=foot><a href=../../p/about_airplanes/>Читать далее &rarr;</a></p></div></article></div><br><div class=e2-pages><a href=../../>Ранее</a>
<span class=e2-keyboard-shortcut>↓</span>
<span class=e2-keyboard-shortcut>⌥</span>
<span class=e2-keyboard-shortcut>↑</span>
<a href=../../page/3/>Позднее</a></div></div><div class=footer>&copy;
<span id=e2-blog-author>Daniel Apatin</span>,
2008—2021
<a href=../../rss.xml type=application/rss+xml target=_blank class=e2-rss-button>RSS</a>
<a class=e2-rss-button href=../../tags/>Теги</a></div></div><script type=text/javascript>(function(d,w,c){(w[c]=w[c]||[]).push(function(){try{w.yaCounter21943429=new Ya.Metrika({id:21943429,clickmap:false,trackLinks:true,accurateTrackBounce:true});}catch(e){}});var n=d.getElementsByTagName("script")[0],s=d.createElement("script"),f=function(){n.parentNode.insertBefore(s,n);};s.type="text/javascript";s.async=true;s.src="https://mc.yandex.ru/metrika/watch.js";if(w.opera=="[object Opera]"){d.addEventListener("DOMContentLoaded",f,false);}else{f();}})(document,window,"yandex_metrika_callbacks");</script><noscript><div><img src=https://mc.yandex.ru/watch/21943429 style=position:absolute;left:-9999px alt></div></noscript><script type=text/javascript>document.addEventListener("DOMContentLoaded",function(){var lazyImages=[].slice.call(document.querySelectorAll("img.lazy"));if("IntersectionObserver"in window){let lazyImageObserver=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(entry.isIntersecting){let lazyImage=entry.target;lazyImage.src=lazyImage.dataset.src;lazyImage.classList.remove("lazy");lazyImageObserver.unobserve(lazyImage);}});});lazyImages.forEach(function(lazyImage){lazyImageObserver.observe(lazyImage);});}else{}});Array.from(document.getElementsByClassName("__email__")).forEach(function(l,index,array){var a=l.getAttribute("data-class");if(a){var s='';var r=parseInt(a.substr(0,2),16);for(var j=2;a.length-j;j+=2){var c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}
l.parentNode.href="mailto:"+s;l.parentNode.innerText=s;}});</script></body><ok></html>