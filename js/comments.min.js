function getXmlHttp(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}if(typeof XMLHttpRequest!='undefined')return new XMLHttpRequest}function getUrl(b,c){var a=getXmlHttp();a.open("GET",b+'?r='+Math.random()),a.onreadystatechange=function(){var b,d,e;a.readyState==4&&(b=a.getAllResponseHeaders(),d=b.trim().split(/[\r\n]+/),e={},d.forEach(function(b){var a=b.split(': '),c=a.shift(),d=a.join(': ');e[c]=d}),c(a.responseText,b))},a.send(null)}function ParseLinkHeader(a){var c=a.split(","),d={},e,b;for(e in c)b=c[e],a={},a.name=b.match(/rel=\"([^\"]*)/)[1],a.url=b.match(/<([^>]*)/)[1],a.page=b.match(/page=(\d+).*$/)[1],d[a.name]=a;return d}function append(b,c,d){var a=document.createElement(c);a.innerHTML=d,b.appendChild(a)}function DoGithubComments(b,a){var c="ad/blog.apatin.ru",e,d,g,f;a===void 0&&(a=1),e="https://github.com/"+c+"/issues/"+b,d="https://api.github.com/repos/"+c,g=d+"/issues/"+b,f=d+"/issues/"+b+"/comments"+"?page="+a,getUrl(f,function(c,d){var b=JSON.parse(c),f;if(b.message!==void 0){append(document.querySelector("#gh-comments-list"),'div',"Comments are not open for this post yet.");return}a==1&&append(document.querySelector("#gh-comments-list"),'a',"<a href='"+e+"#new_comment_field' rel='nofollow' class='btn'>Добавить комментарий через Github</a>"),f="",b.forEach(function(b,d,e){var c=new Date(b.created_at),a="<div id='gh-comment'>";a+="<img src='"+b.user.avatar_url+"' width='24px'>",a+="<b><a href='"+b.user.html_url+"'>"+b.user.login+"</a></b>",a+=" posted at ",a+="<em>"+c.toLocaleString()+"</em>",a+="<div id='gh-comment-hr'></div>",b.body_html?a+=b.body_html:a+=b.body,a+="</div>",append(document.querySelector("#gh-comments-list"),'div',a)})})}DoGithubComments(commentID)