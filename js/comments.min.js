function getXmlHttp(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}if(typeof XMLHttpRequest!='undefined')return new XMLHttpRequest}function getUrl(b,c){var a=getXmlHttp();a.open("GET",b+'?r='+Math.random()),a.onreadystatechange=function(){var b,d,e;a.readyState==4&&(b=a.getAllResponseHeaders(),d=b.trim().split(/[\r\n]+/),e={},d.forEach(function(b){var a=b.split(': '),c=a.shift(),d=a.join(': ');e[c]=d}),c(a.responseText,b))},a.send(null)}function ParseLinkHeader(a){var c=a.split(","),d={},e,b;for(e in c)b=c[e],a={},a.name=b.match(/rel=\"([^\"]*)/)[1],a.url=b.match(/<([^>]*)/)[1],a.page=b.match(/page=(\d+).*$/)[1],d[a.name]=a;return d}function append(a,b){a.insertAdjacentHTML('beforeend',b)}function DoGithubComments(b,a,e){var c="ad/blog.apatin.ru",f,d,h,g;a===void 0&&(a=1),f="https://github.com/"+c+"/issues/"+b,d="https://api.github.com/repos/"+c,h=d+"/issues/"+b,g=d+"/issues/"+b+"/comments"+"?page="+a+"&since="+e,getUrl(g,function(c,d){var b=JSON.parse(c),e;if(b.message!==void 0){append(document.querySelector("#gh-comments"),"Comments are not open for this post yet.");return}a==1&&append(document.querySelector("#gh-comments"),"<a href='"+f+"#new_comment_field' rel='nofollow' class='btn'>Добавить комментарий через Github</a>"),e="",b.forEach(function(b,d,e){var c=new Date(b.created_at),a="<div class='gh-comment'>";a+="<img src='"+b.user.avatar_url+"' width='24px'>",a+="<b><a href='"+b.user.html_url+"'>"+b.user.login+"</a></b>",a+=" posted at ",a+="<em>"+c.toLocaleString()+"</em>",a+="<div class='gh-comment-hr'></div>",b.body_html?a+=b.body_html:a+=b.body.replace(/([^>])\n+/g,'$1<br/>'),a+="</div>",append(document.querySelector("#gh-comments-list"),a)})})}DoGithubComments(commentID,1,since)